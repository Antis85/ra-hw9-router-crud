{"version":3,"sources":["components/Page404.js","components/CreatePage.js","components/ViewPage.js","components/EditPage.js","components/Post.js","utils/utils.js","components/Loading.js","components/ErrorPage.js","components/MainPage.js","App.js","index.js"],"names":["Page404","className","to","CreatePage","props","addPost","useState","content","setContent","navigate","useNavigate","onSubmit","event","preventDefault","id","name","value","type","required","placeholder","onChange","target","ViewPage","posts","deletePost","params","useParams","post","find","Number","src","avatar","alt","created","onClick","EditPage","defaultValue","Post","formatTime","dateString","deltaMinutes","Date","getTime","deltaHours","deltaDays","text","num","toFixed","getDateAgoString","Loading","ErrorPage","error","console","log","MainPage","handleView","loading","postsList","map","App","setPosts","setLoading","setError","url","process","useEffect","fetchAPI","options","method","fetch","then","response","json","result","catch","e","message","finally","headers","body","JSON","stringify","Error","ok","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db9864a7.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Page404() {\n  return (\n    <div className=\"page-404\">\n      <div className=\"page-404__header\">404</div>\n      <div className=\"page-404__main\">Страница не найдена...</div>\n      <Link to=\"/\">Перейти на главную страницу</Link>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport {\n  Link,\n  useNavigate,\n} from 'react-router-dom';\n\nexport default function CreatePage(props) {\n  const { addPost } = props;\n  const [content, setContent] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!content) return;    \n    addPost({ content, id: '0' });\n    setContent('');\n    navigate('/');\n  };\n\n  const handleChange = ({ target }) => {\n    setContent(target.value);\n  };\n\n  return (\n    <article className=\"article create-page\">\n      <div className=\"create-page__header-wrapper\">\n        <div className=\"create-page__header-wrapper__category-wrapper\">\n          <span className=\"material-icons\">edit</span>\n          <span className=\"category-name\">Публикация</span>\n        </div>\n        <div className=\"create-page__header-wrapper__category-wrapper\">\n          <span className=\"material-icons\">photo_camera</span>\n          <span className=\"category-name\">Фото/видео</span>\n        </div>\n        <div className=\"create-page__header-wrapper__category-wrapper\">\n          <span className=\"material-icons\">video_camera_front</span>\n          <span className=\"category-name\">Прямой эфир</span>\n        </div>\n        <div className=\"create-page__header-wrapper__category-wrapper\">\n          <span className=\"material-icons\">more</span>\n          <span className=\"category-name\">Еще</span>\n        </div>\n        <div className=\"create-page__header-wrapper__category-wrapper\">\n          <Link to=\"/\">\n            <span className=\"material-icons\">close</span>\n          </Link>\n        </div>\n      </div>\n      <form className=\"create-page__form\" onSubmit={handleSubmit}>\n        <div className=\"create-page__form__inputs-wrapper\">\n          <div className=\"create-page__form__input-wrapper\">\n            <label className=\"create-page__form__label label-post\">\n              <textarea\n                className=\"create-page__form__input input-post\"\n                name=\"post\"\n                value={content}\n                type=\"text\"\n                required\n                placeholder=\"Например, Lorem ipsum...\"\n                onChange={handleChange}\n              />\n            </label>\n          </div>\n        </div>\n        <button\n          className=\"create-page__form__button-submit button-submit\"\n          type=\"submit\"\n        >\n          Опубликовать\n        </button>\n      </form>\n    </article>\n  );\n}\n","import React from 'react';\nimport {\n  Link,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport Page404 from './Page404';\n\nexport default function ViewPage(props) {\n  const { posts, deletePost } = props;\n  const navigate = useNavigate();\n  const params = useParams();\n  const post = posts.find((post) => post.id === Number(params.id));\n\n  const handleRemove = () => {\n    deletePost({ id: post.id });\n    navigate('/');\n  };\n\n  const handleClose = () => {\n    navigate(-1);\n  };\n\n  return post ? (\n    <article className=\"article view-page\">\n      <div className=\"article__header\">\n        <img className=\"article__avatar\" src={post.avatar} alt=\"avatar\" />\n        <div className=\"article__header-wrapper\">\n          <span className=\"article__name\">{post.name}</span>\n          <span className=\"article__timestamp\">{post.created}</span>\n        </div>\n        <div className=\"button-close\">\n          <span className=\"material-icons\" onClick={handleClose}>\n            close\n          </span>\n        </div>\n      </div>\n      <p className=\"article__paragraph\">{post.content}</p>\n      <div className=\"article__like-and-comment\">\n        <span className=\"material-icons\">thumb_up_off_alt</span>\n        <span className=\"article__like-and-comment__text\">Нравится</span>\n\n        <span className=\"material-icons\">chat_bubble_outline</span>\n        <span className=\"article__like-and-comment__text\">Комментировать</span>\n      </div>\n      <div className=\"article__paragraph-footer\">\n        <Link\n          to={`/posts/edit/${post.id}`}\n          className=\"view-page_button-edit\"\n        >\n          Изменить\n        </Link>\n        <button className=\"view-page_button-delete\" onClick={handleRemove}>\n          Удалить\n        </button>\n      </div>\n    </article>\n  ) : (\n    <Page404 />\n  );\n}\n","import React, { useState } from 'react';\nimport {\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport Page404 from './Page404';\n\nexport default function EditPage(props) {\n  const { posts, addPost } = props;\n  const [content, setContent] = useState('');\n  const navigate = useNavigate();\n  const params = useParams();\n  const post = posts.find((post) => post.id === Number(params.id));\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!content || !post.id) return;\n    addPost({ content, id: post.id });\n    setContent('');\n    navigate('/');\n  };\n\n  const handleChange = ({ target }) => {\n    setContent(target.value);\n  };\n\n  const handleClose = () => {\n    navigate(-1);\n  };\n\n  return post ? (\n    <article className=\"article edit-page\">\n      <div className=\"edit-page__header-wrapper\">\n        <div className=\"edit-page__header-wrapper__title\">\n          Редактировать публикацию\n        </div>\n        <div className=\"edit-page__header-wrapper__button-close\">\n          <span className=\"material-icons\" onClick={handleClose}>\n            close\n          </span>\n        </div>\n      </div>\n      <form className=\"edit-page__form\" onSubmit={handleSubmit}>\n        <div className=\"edit-page__form__inputs-wrapper\">\n          <img className=\"article__avatar\" src={post.avatar} alt=\"avatar\" />\n          <div className=\"edit-page__form__input-wrapper\">\n            <label className=\"edit-page__form__label label-post\">\n              <textarea\n                className=\"edit-page__form__input input-post\"\n                name=\"post\"\n                defaultValue={post.content}\n                type=\"text\"\n                required\n                placeholder=\"Например, Lorem ipsum...\"\n                onChange={handleChange}\n              />\n            </label>\n          </div>\n        </div>\n        <div className=\"edit-page__categories-wrapper\">\n          <div className=\"edit-page__category-wrapper\">\n            <span className=\"material-icons\">image</span>\n            <span className=\"\">Фото/видео</span>\n          </div>\n          <div className=\"edit-page__category-wrapper\">\n            <span className=\"material-icons\">person_add_alt_1</span>\n            <span className=\"\">Отметить друзей</span>\n          </div>\n          <div className=\"edit-page__category-wrapper\">\n            <span className=\"material-icons\">mood</span>\n            <span className=\"\">Чувства/действия</span>\n          </div>\n          <div className=\"edit-page__category-wrapper\">\n            <span className=\"material-icons\">place</span>\n            <span className=\"\">Отметить посещение</span>\n          </div>\n          <div className=\"edit-page__category-wrapper\">\n            <span className=\"material-icons\">gif_box</span>\n            <span className=\"\">GIF</span>\n          </div>\n        </div>\n        <button\n          className=\"edit-page__form__button-submit button-submit\"\n          type=\"submit\"\n        >\n          Сохранить\n        </button>\n      </form>\n    </article>\n  ) : (\n    <Page404 />\n  );\n}\n","import React from 'react';\nimport { getDateAgoString } from '../utils/utils';\n\nexport default function Post(props) {\n  const { post } = props;\n  const formatTime = getDateAgoString(post.created);\n  return (\n    <article className=\"article\">\n      <div className=\"article__header\">\n        <img className=\"article__avatar\" src={post.avatar} alt=\"avatar\" />\n        <div className=\"article__header-wrapper\">\n          <span className=\"article__name\">{post.name}</span>\n          <span className=\"article__timestamp\">\n            {formatTime.num !== '0'\n              ? `${formatTime.num} ${formatTime.text}`\n              : 'сейчас'}\n          </span>\n        </div>\n      </div>\n      <p className=\"article__paragraph\">{post.content}</p>\n      <div className=\"article__like-and-comment\">\n        <span className=\"material-icons\">thumb_up_off_alt</span>\n        <span className=\"article__like-and-comment__text\">Нравится</span>\n\n        <span className=\"material-icons\">chat_bubble_outline</span>\n        <span className=\"article__like-and-comment__text\">Комментировать</span>\n      </div>\n      <div className=\"article__paragraph-footer\">\n        <img\n          className=\"article__avatar avatar-small\"\n          src={post.avatar}\n          alt=\"avatar\"\n        />\n        <span className=\"article__paragraph-footer__fake-input\">\n          Напишите комментарий...\n        </span>\n        <div className=\"article__paragraph-footer__icon-wrapper\">\n          <span className=\"material-icons\">sentiment_satisfied_alt</span>\n          <span className=\"material-icons\">photo_camera</span>\n          <span className=\"material-icons\">gif_box</span>\n          <span className=\"material-icons\">sticky_note_2</span>\n        </div>\n      </div>\n    </article>\n  );\n}\n","const getDateAgoString = (dateString) => {\n  const deltaTimestamp = new Date().getTime() - new Date(dateString).getTime();\n  const deltaMinutes = deltaTimestamp / 1000 / 60;\n  const deltaHours = deltaMinutes / 60;\n  const deltaDays = deltaHours / 24;\n\n  if (deltaDays >= 1) {\n    const num = deltaDays.toFixed(0);    \n    return {text:'дн.', num};\n  }\n  if (deltaHours >= 1) {\n    const num = deltaHours.toFixed(0);\n    return {text:'ч.', num};\n  }\n  const num = deltaMinutes.toFixed(0);\n  return {text:'мин.', num};\n};\n\nexport { getDateAgoString };\n","import React from 'react';\n\nexport default function Loading() {\n  return <div className=\"loading\">Loading...</div>;\n}\n","import React from 'react';\n\nexport default function ErrorPage(props) {\n  const { error } = props;\n  console.log('ErrorPage_error_text: ', error);\n  return (\n    <div className=\"error-page\">\n      <div className=\"error-page__header\">Ошибка!</div>\n      <div className=\"error-page__main\">\n        <span>Что-то пошло не так...</span>\n        <p>{error}</p>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Post from './Post';\nimport Loading from './Loading';\nimport ErrorPage from './ErrorPage';\n\nexport default function MainPage(props) {\n  const { posts, handleView, loading, error } = props;\n  const postsList = posts.map((post) => (\n    <Link key={post.id} to={`/posts/${post.id}`}>\n      <Post post={post} handleView={handleView} />\n    </Link>\n  ));\n  return (\n    <>\n      <section className=\"header-page\">\n        <Link to=\"/posts/new\">Создать пост</Link>\n      </section>\n      <section className=\"main-page\">\n        {loading ? (\n          <Loading />\n        ) : error ? (\n          <ErrorPage error={error} />\n        ) : (\n          postsList\n        )}\n      </section>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { HashRouter as Router, Routes, Route } from 'react-router-dom';\nimport Page404 from './components/Page404';\nimport CreatePage from './components/CreatePage';\nimport ViewPage from './components/ViewPage';\nimport EditPage from './components/EditPage';\nimport MainPage from './components/MainPage';\n\nexport default function App() {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const url = process.env.REACT_APP_URL_POSTS_BUILD;\n\n  useEffect(() => {\n    fetchAPI();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const fetchAPI = (options) => {\n    setLoading(true);\n    setError('');\n    if (!options || !options.method) {\n      return fetch(url)\n        .then((response) => {\n          return response.json();\n        })\n        .then((result) => {\n          setPosts([...result]);\n        })\n        .catch((e) => {\n          console.log('Error_text: ', e.message);\n          setError(e.message);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    }\n\n    const { id, content, method } = options;\n    return fetch(method !== 'DELETE' ? url : url + '/' + id, {\n      method,\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n      },\n      body: JSON.stringify({\n        id,\n        content,\n      }),\n    })\n      .catch((e) => {\n        console.log('Error_text: ', e.message);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const addPost = (options) => {\n    fetchAPI({ ...options, method: 'POST' })\n      .then((response) => {\n        if (!response) throw new Error('Server not responding');\n        if (!response.ok) {\n          console.log(response);\n          return;\n        }\n        fetchAPI();\n      })\n      .catch((e) => {\n        console.log('Error_text: ', e.message);\n        setError(error + '\\n' + e.message);\n      });\n  };\n\n  const deletePost = (options) => {\n    fetchAPI({ ...options, method: 'DELETE' })\n      .then((response) => {\n        if (!response) throw new Error('Server not responding');\n        if (!response.ok) {\n          console.log(response);\n          return;\n        }\n        fetchAPI();\n      })\n      .catch((e) => {\n        console.log('Error_text: ', e.message);\n        setError(error + '\\n' + e.message);\n      });\n  };\n\n  return (\n    <Router>\n      <div className=\"page\">\n        <Routes>\n          <Route\n            path=\"/posts/new\"\n            element={<CreatePage addPost={addPost} />}\n          />\n          <Route\n            path=\"/posts/:id\"\n            element={<ViewPage posts={posts} deletePost={deletePost} />}\n          />\n          <Route\n            path=\"/posts/edit/:id\"\n            element={<EditPage posts={posts} addPost={addPost} />}\n          />\n          <Route\n            path=\"/\"\n            element={<MainPage posts={posts} loading={loading} error={error} />}\n          />\n          <Route path=\"*\" element={<Page404 />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}